<div class="container">
    <div [hidden]="submitted">
        <h3>New Meal</h3>
        <form (ngSubmit)="onSubmit()" #mealForm="ngForm">

            <div class="form-group">
                <label for="name">Name</label>
                <input type="text" class="form-control" id="name"
                required
                [(ngModel)]="model.name" name="name"
                #name="ngModel">
                <div [hidden]="name.valid || name.pristine"
                class="alert alert-danger">
                Name is required
                </div>
            </div>

            <div class="form-group">
                <label for="ingredients">Ingredients</label>
                <select class="form-control" multiple id="ingredients"
                required
                [(ngModel)]="model.ingredients" name="ingredients"
                #ingredients="ngModel">
                    <option *ngFor="let ingredient of ingredients$ | async" [value]="ingredient.id">{{ingredient.name}}</option>
                </select>
                <div [hidden]="ingredients.valid || ingredients.pristine" class="alert alert-danger">
                    At least 1 ingredient is required
                </div>
            </div>

            <div class="form-group">
                <label for="date">Date</label>
                <input type="datetime-local" id="date"
                [(ngModel)]="model.date" name="date"
                #date="ngModel" value="">
            </div>
            
            <button type="submit" class="btn btn-success" [disabled]="!mealForm.form.valid">Save</button>
        </form>
    </div>
</div>


